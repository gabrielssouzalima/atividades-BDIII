CREATE DATABASE escola;
USE escola;
CREATE TABLE cursos (
    id INT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL
);
CREATE TABLE turmas (
    id INT PRIMARY KEY,
    turma VARCHAR(20) NOT NULL,
    id_curso INT NOT NULL,
    FOREIGN KEY (id_curso) REFERENCES cursos(id)
);
CREATE TABLE alunos (
    id_aluno INT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    idade INT,
    id_turma INT NOT NULL,
    FOREIGN KEY (id_turma) REFERENCES turmas(id)
);
CREATE TABLE boletim (
    id INT PRIMARY KEY,
    id_curso INT,
    id_turma INT,
    id_aluno INT,
    nota DECIMAL(4,2),
    FOREIGN KEY (id_curso) REFERENCES cursos(id),
    FOREIGN KEY (id_turma) REFERENCES turmas(id),
    FOREIGN KEY (id_aluno) REFERENCES alunos(id_aluno)
);
INSERT INTO cursos (id, nome)
VALUES (1, 'Técnico em Desenvolvimento de Sistemas');

INSERT INTO turmas (id, turma, id_curso)
VALUES 
(1, '3DS', 1),
(2, '3DA', 1);
-- ALUNOS 3DS
INSERT INTO alunos (id_aluno, nome, idade, id_turma)
VALUES
(1, 'Ana Paula', 17, 1),
(2, 'Bruno Silva', 18, 1),
(3, 'Carlos Eduardo', 17, 1);

-- ALUNOS 3DA
INSERT INTO alunos (id_aluno, nome, idade, id_turma)
VALUES
(4, 'Débora Santos', 19, 2),
(5, 'Eduardo Lima', 18, 2),
(6, 'Fernanda Costa', 17, 2);
-- BOLETIM DO 3DS
INSERT INTO boletim (id, id_curso, id_turma, id_aluno, nota)
VALUES
(1, 1, 1, 1, 8.5),
(2, 1, 1, 2, 7.0),
(3, 1, 1, 3, 9.2);
-- BOLETIM DO 3DA
INSERT INTO boletim (id, id_curso, id_turma, id_aluno, nota)
VALUES
(4, 1, 2, 4, 6.8),
(5, 1, 2, 5, 7.7),
(6, 1, 2, 6, 8.9);
SELECT * FROM alunos ;
SELECT * FROM boletim ;
SELECT * FROM cursos ;
SELECT * FROM turmas ;

SELECT 
    cursos.nome AS curso,
    turmas.turma,
    alunos.nome,
    boletim.nota
FROM boletim
INNER JOIN alunos ON boletim.id_aluno = alunos.id_aluno
INNER JOIN turmas ON boletim.id_turma = turmas.id
INNER JOIN cursos ON boletim.id_curso = cursos.id
WHERE turmas.turma = '3DS'
  AND cursos.nome = 'Técnico em Desenvolvimento de Sistemas';


